<!DOCTYPE html>
<html lang="tr" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>QR MenÃ¼ TemalarÄ± â€” RestoranÄ±nÄ±z iÃ§in Dijital MenÃ¼</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: { sans: ['Inter', 'system-ui', 'sans-serif'] },
          colors: {
            marka: { 50:'#f5f3ff',100:'#ede9fe',200:'#ddd6fe',500:'#8b5cf6',600:'#7c3aed',700:'#6d28d9' },
          },
        },
      },
    };
  </script>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet" />
  <style>
    body { font-family: 'Inter', system-ui, sans-serif; }
    .kart-yukselt { transition: transform .2s ease, box-shadow .2s ease; }
    .kart-yukselt:hover { transform: translateY(-4px); box-shadow: 0 20px 40px rgba(0,0,0,.12); }
    .gecis { transition: all .2s ease; }
  </style>
</head>
<body class="bg-slate-50 min-h-screen">

  <!-- â”€â”€ NAV â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <nav class="sticky top-0 z-50 bg-white/95 backdrop-blur border-b border-slate-100 shadow-sm">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 h-16 flex items-center justify-between gap-4">
      <a href="/temalar" class="text-xl font-black bg-gradient-to-r from-marka-600 to-purple-500 bg-clip-text text-transparent">
        QR MenÃ¼
      </a>
      <div class="flex items-center gap-3">
        <% if (kullanici) { %>
          <span class="text-sm text-slate-500 hidden sm:block"><%= kullanici.email %></span>
          <a href="/admin" class="bg-marka-600 hover:bg-marka-700 text-white text-sm font-semibold px-4 py-2 rounded-xl gecis">
            Panel â†’
          </a>
        <% } else { %>
          <a href="/admin" class="text-sm font-medium text-marka-600 hover:text-marka-700 gecis">GiriÅŸ Yap</a>
          <a href="/admin" class="bg-marka-600 hover:bg-marka-700 text-white text-sm font-semibold px-4 py-2 rounded-xl gecis">
            Ãœcretsiz Dene
          </a>
        <% } %>
      </div>
    </div>
  </nav>

  <!-- Flash mesajÄ± -->
  <% if (flash === 'iptal') { %>
  <div class="bg-yellow-50 border-b border-yellow-200 text-yellow-800 text-sm text-center py-2 px-4">
    Ã–deme iptal edildi. Ä°stediÄŸiniz zaman tekrar deneyebilirsiniz.
  </div>
  <% } %>

  <!-- â”€â”€ HERO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <section class="bg-gradient-to-br from-marka-700 via-purple-700 to-indigo-800 text-white py-16 sm:py-20 px-4 text-center relative overflow-hidden">
    <div class="absolute inset-0 opacity-20" style="background-image:url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 60 60\"><circle cx=\"30\" cy=\"30\" r=\"1\" fill=\"white\"/></svg>');background-size:30px 30px;"></div>
    <div class="relative max-w-3xl mx-auto">
      <div class="inline-flex items-center gap-2 bg-white/15 text-white/90 text-xs font-semibold px-3 py-1.5 rounded-full mb-5 border border-white/20 backdrop-blur-sm">
        <span class="w-1.5 h-1.5 rounded-full bg-green-400 inline-block animate-pulse"></span>
        10 profesyonel tema â€¢ Ã–mÃ¼r boyu lisans
      </div>
      <h1 class="text-4xl sm:text-5xl font-black tracking-tight mb-4">
        RestoranÄ±nÄ±za Ã–zel<br/>
        <span class="text-purple-200">Dijital MenÃ¼ TemalarÄ±</span>
      </h1>
      <p class="text-white/70 text-lg mb-8 max-w-xl mx-auto">
        Saniyeler iÃ§inde QR menÃ¼nÃ¼zÃ¼ oluÅŸturun. 10 farklÄ± tema arasÄ±ndan seÃ§in,
        Ã¶nizleyin ve anÄ±nda yayÄ±na geÃ§in.
      </p>
      <!-- Arama -->
      <div class="max-w-md mx-auto">
        <div class="relative">
          <svg class="absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-white/40" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
          </svg>
          <input id="arama" type="search" placeholder="Tema ara..." autocomplete="off"
            class="w-full bg-white/15 border border-white/20 text-white placeholder-white/50 rounded-2xl pl-12 pr-4 py-3 text-sm outline-none focus:bg-white/25 focus:border-white/40 gecis backdrop-blur-sm" />
        </div>
      </div>
    </div>
  </section>

  <!-- â”€â”€ TEMA KARTLARI â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <main class="max-w-7xl mx-auto px-4 sm:px-6 py-12">

    <div class="flex items-center justify-between mb-8">
      <h2 class="text-xl font-bold text-slate-800">TÃ¼m Temalar <span id="tema-sayisi" class="text-slate-400 font-normal text-base ml-1">(<%= temalar.length %>)</span></h2>
      <p class="text-sm text-slate-400 hidden sm:block">Ã–nce Ã¶nizleyin, beÄŸendiÄŸinizi satÄ±n alÄ±n</p>
    </div>

    <div id="tema-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
      <% temalar.forEach(function(tema) {
        const k = getTemaKonfig(tema.templateKey);
        const duzenRenk = {
          'klasik-liste':    'bg-slate-100 text-slate-700',
          'kart-duzen':      'bg-violet-100 text-violet-700',
          'minimal':         'bg-stone-100 text-stone-700',
          'gece-modu':       'bg-slate-800 text-cyan-300',
          'kapakli':         'bg-amber-100 text-amber-700',
          'sol-menu':        'bg-emerald-100 text-emerald-700',
          'kategori-seridi': 'bg-rose-100 text-rose-700',
          'gorsel-odakli':   'bg-orange-100 text-orange-700',
          'kompakt':         'bg-teal-100 text-teal-700',
          'premium':         'bg-purple-900 text-purple-200',
        }[k.duzen] || 'bg-slate-100 text-slate-700';

        const duzenAdi = {
          'klasik-liste':    'Klasik Liste',
          'kart-duzen':      'Kart DÃ¼zeni',
          'minimal':         'Minimal',
          'gece-modu':       'Gece Modu',
          'kapakli':         'KapaklÄ±',
          'sol-menu':        'Sol MenÃ¼',
          'kategori-seridi': 'Kategori Åeridi',
          'gorsel-odakli':   'GÃ¶rsel OdaklÄ±',
          'kompakt':         'Kompakt',
          'premium':         'Premium',
        }[k.duzen] || k.duzen;
      %>
      <div class="tema-kart kart-yukselt bg-white rounded-2xl overflow-hidden shadow-sm border border-slate-100 flex flex-col"
           data-tema-adi="<%= tema.name.toLowerCase() %>">

        <!-- GÃ¶rsel alanÄ± -->
        <a href="/onizleme/<%= tema.slug %>" class="block relative bg-gradient-to-br
          <% if(k.koyuMod){ %>from-slate-800 to-slate-900<% } else { %>from-slate-100 to-slate-200<% } %>
          h-44 overflow-hidden group">

          <!-- Mini tema Ã¶nizleme mockup -->
          <div class="absolute inset-2 rounded-xl overflow-hidden shadow-lg
            <% if(k.koyuMod){ %>bg-slate-900<% } else { %>bg-white<% } %>">
            <!-- Mockup nav -->
            <div class="h-5 <% if(k.koyuMod){ %>bg-slate-800<% } else { %>bg-slate-50<% } %> flex items-center px-2 gap-1 border-b <% if(k.koyuMod){ %>border-slate-700<% } else { %>border-slate-200<% } %>">
              <div class="w-1.5 h-1.5 rounded-full bg-red-400"></div>
              <div class="w-1.5 h-1.5 rounded-full bg-yellow-400"></div>
              <div class="w-1.5 h-1.5 rounded-full bg-green-400"></div>
              <div class="flex-1 h-1.5 <% if(k.koyuMod){ %>bg-slate-700<% } else { %>bg-slate-200<% } %> rounded-full mx-2"></div>
            </div>
            <!-- Mockup iÃ§erik -->
            <% if (k.duzen === 'klasik-liste') { %>
              <div class="p-2 space-y-1">
                <div class="h-4 bg-slate-200 rounded w-3/4"></div>
                <div class="border-t border-slate-100 pt-1 space-y-1">
                  <div class="h-2 bg-slate-100 rounded w-full"></div>
                  <div class="h-2 bg-slate-100 rounded w-5/6"></div>
                  <div class="h-2 bg-slate-100 rounded w-4/6"></div>
                </div>
                <div class="border-t border-slate-100 pt-1 space-y-1">
                  <div class="h-2 bg-slate-100 rounded w-full"></div>
                  <div class="h-2 bg-slate-100 rounded w-5/6"></div>
                </div>
              </div>
            <% } else if (k.duzen === 'kart-duzen') { %>
              <div class="p-2 grid grid-cols-2 gap-1">
                <div class="bg-violet-100 rounded-lg h-8"></div>
                <div class="bg-violet-200 rounded-lg h-8"></div>
                <div class="bg-violet-150 rounded-lg h-8 col-span-2"></div>
              </div>
            <% } else if (k.duzen === 'minimal') { %>
              <div class="p-3 space-y-2">
                <div class="h-5 bg-stone-200 rounded w-1/2"></div>
                <div class="border-b border-stone-200 pb-2"></div>
                <div class="h-2 bg-stone-100 rounded w-full"></div>
                <div class="h-2 bg-stone-100 rounded w-4/5"></div>
              </div>
            <% } else if (k.duzen === 'gece-modu') { %>
              <div class="p-2 space-y-1">
                <div class="h-3 bg-cyan-500/30 rounded w-3/4"></div>
                <div class="grid grid-cols-2 gap-1 mt-1">
                  <div class="h-6 bg-slate-700 rounded border border-cyan-500/20"></div>
                  <div class="h-6 bg-slate-700 rounded border border-cyan-500/20"></div>
                  <div class="h-6 bg-slate-700 rounded border border-cyan-500/20"></div>
                  <div class="h-6 bg-slate-700 rounded border border-cyan-500/20"></div>
                </div>
              </div>
            <% } else if (k.duzen === 'kapakli') { %>
              <div class="h-10 bg-gradient-to-r from-amber-400 to-orange-500 flex items-end p-1.5">
                <div class="h-2 bg-white/70 rounded w-2/3"></div>
              </div>
              <div class="flex gap-1 p-1 bg-white">
                <div class="h-2 bg-amber-200 rounded-full px-2 text-[5px]">âœ“</div>
                <div class="h-2 bg-slate-100 rounded-full px-2"></div>
                <div class="h-2 bg-slate-100 rounded-full px-2"></div>
              </div>
            <% } else if (k.duzen === 'sol-menu') { %>
              <div class="flex h-full">
                <div class="w-8 bg-emerald-50 border-r border-emerald-100 p-1 space-y-1">
                  <div class="h-1.5 bg-emerald-200 rounded"></div>
                  <div class="h-1.5 bg-emerald-300 rounded"></div>
                  <div class="h-1.5 bg-emerald-200 rounded"></div>
                </div>
                <div class="flex-1 p-1 grid grid-cols-2 gap-1">
                  <div class="h-5 bg-slate-100 rounded"></div>
                  <div class="h-5 bg-slate-100 rounded"></div>
                </div>
              </div>
            <% } else if (k.duzen === 'kategori-seridi') { %>
              <div class="p-1 space-y-1">
                <div class="flex gap-1">
                  <div class="h-2 bg-rose-500 rounded-full px-3"></div>
                  <div class="h-2 bg-rose-100 rounded-full px-2"></div>
                  <div class="h-2 bg-rose-100 rounded-full px-2"></div>
                </div>
                <div class="grid grid-cols-3 gap-1">
                  <div class="h-7 bg-slate-100 rounded-lg"></div>
                  <div class="h-7 bg-slate-100 rounded-lg"></div>
                  <div class="h-7 bg-slate-100 rounded-lg"></div>
                </div>
              </div>
            <% } else if (k.duzen === 'gorsel-odakli') { %>
              <div class="p-1 grid grid-cols-2 gap-1">
                <div class="h-10 bg-orange-200 rounded-lg relative"><div class="absolute bottom-1 left-1 h-2 bg-white/80 rounded w-2/3"></div></div>
                <div class="h-10 bg-orange-300 rounded-lg relative"><div class="absolute bottom-1 left-1 h-2 bg-white/80 rounded w-2/3"></div></div>
              </div>
            <% } else if (k.duzen === 'kompakt') { %>
              <div class="p-1.5 space-y-0.5">
                <% for(let i=0;i<4;i++) { %>
                <div class="flex items-center justify-between">
                  <div class="h-1.5 bg-teal-100 rounded w-1/2"></div>
                  <div class="h-1.5 bg-teal-300 rounded w-8"></div>
                </div>
                <% } %>
              </div>
            <% } else if (k.duzen === 'premium') { %>
              <div class="p-1.5 space-y-1">
                <div class="h-5 bg-purple-900/50 backdrop-blur rounded-lg border border-purple-500/20"></div>
                <div class="grid grid-cols-2 gap-1">
                  <div class="h-8 bg-purple-900/50 rounded-lg border border-purple-500/20"></div>
                  <div class="h-8 bg-purple-900/50 rounded-lg border border-purple-500/20"></div>
                </div>
              </div>
            <% } %>
          </div>

          <!-- Hover overlay -->
          <div class="absolute inset-0 bg-marka-600/0 group-hover:bg-marka-600/10 gecis flex items-center justify-center">
            <span class="opacity-0 group-hover:opacity-100 gecis bg-white text-marka-700 font-semibold text-xs px-3 py-1.5 rounded-full shadow-lg">
              Ã–nizle â†’
            </span>
          </div>
        </a>

        <!-- Kart iÃ§eriÄŸi -->
        <div class="p-4 flex flex-col flex-1">
          <div class="flex items-start justify-between gap-2 mb-2">
            <h3 class="font-bold text-slate-900 text-base leading-tight"><%= tema.name %></h3>
            <span class="text-base font-extrabold text-marka-600 shrink-0">
              â‚º<%= Number(tema.price).toFixed(0) %>
            </span>
          </div>

          <!-- DÃ¼zen etiketi -->
          <span class="inline-block self-start text-[10px] font-semibold px-2 py-0.5 rounded-full mb-2 <%= duzenRenk %>">
            <%= duzenAdi %>
          </span>

          <!-- Ã–zellikler -->
          <% if (tema.features && tema.features.length > 0) { %>
          <ul class="space-y-1 mb-4 flex-1">
            <% tema.features.slice(0,3).forEach(function(f) { %>
            <li class="flex items-center gap-1.5 text-xs text-slate-500">
              <svg class="w-3 h-3 text-green-500 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="3">
                <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
              </svg>
              <%= f %>
            </li>
            <% }); %>
          </ul>
          <% } else { %>
          <div class="flex-1"></div>
          <% } %>

          <!-- Butonlar -->
          <% if (kullaniciMenusu) { %>
            <a href="/admin" class="block w-full text-center bg-slate-100 hover:bg-slate-200 text-slate-700 font-semibold text-sm py-2.5 rounded-xl gecis">
              MenÃ¼nÃ¼ze Git â†’
            </a>
          <% } else { %>
            <div class="flex gap-2">
              <a href="/onizleme/<%= tema.slug %>"
                class="flex-1 text-center border-2 border-marka-200 text-marka-700 hover:bg-marka-50 font-semibold text-xs py-2.5 rounded-xl gecis">
                Ã–nizle
              </a>
              <button onclick="satinAlBaslat('<%= tema.id %>', '<%= tema.slug %>')"
                class="flex-1 bg-marka-600 hover:bg-marka-700 text-white font-semibold text-xs py-2.5 rounded-xl gecis shadow-sm">
                SatÄ±n Al
              </button>
            </div>
            <a href="/temalar/<%= tema.slug %>" class="block text-center text-[11px] text-slate-400 hover:text-marka-600 mt-1 gecis">
              Detaylar â†’
            </a>
          <% } %>
        </div>
      </div>
      <% }); %>
    </div>

    <!-- BoÅŸ arama sonucu -->
    <div id="bos-sonuc" class="hidden text-center py-20">
      <p class="text-5xl mb-4">ğŸ”</p>
      <p class="text-slate-500 text-lg font-semibold">Tema bulunamadÄ±</p>
      <p class="text-slate-400 text-sm mt-1">FarklÄ± bir arama terimi deneyin</p>
    </div>
  </main>

  <!-- â”€â”€ Ã–ZELLIKLER ÅERIDI â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <section class="bg-white border-t border-slate-100 py-12">
    <div class="max-w-5xl mx-auto px-4 grid grid-cols-2 sm:grid-cols-4 gap-6 text-center">
      <div><div class="text-3xl mb-2">ğŸ“±</div><p class="font-semibold text-slate-800 text-sm">Mobil Uyumlu</p><p class="text-xs text-slate-400 mt-0.5">Her ekranda mÃ¼kemmel</p></div>
      <div><div class="text-3xl mb-2">âš¡</div><p class="font-semibold text-slate-800 text-sm">HÄ±zlÄ± Kurulum</p><p class="text-xs text-slate-400 mt-0.5">5 dakikada yayÄ±nda</p></div>
      <div><div class="text-3xl mb-2">âœï¸</div><p class="font-semibold text-slate-800 text-sm">Kolay DÃ¼zenleme</p><p class="text-xs text-slate-400 mt-0.5">Kod bilgisi gerekmez</p></div>
      <div><div class="text-3xl mb-2">â™¾ï¸</div><p class="font-semibold text-slate-800 text-sm">Ã–mÃ¼r Boyu</p><p class="text-xs text-slate-400 mt-0.5">Tek seferlik Ã¶deme</p></div>
    </div>
  </section>

  <!-- â”€â”€ AUTH MODAL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div id="auth-modal" class="hidden fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm">
    <div class="bg-white rounded-2xl shadow-2xl w-full max-w-sm p-8 relative">
      <button onclick="document.getElementById('auth-modal').classList.add('hidden')"
        class="absolute top-4 right-4 text-slate-400 hover:text-slate-600 gecis">
        <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
      <h3 class="text-xl font-bold text-slate-900 mb-1">Hesap Gerekli</h3>
      <p class="text-slate-500 text-sm mb-6">SatÄ±n alma iÃ§in giriÅŸ yapÄ±n veya Ã¼cretsiz hesap oluÅŸturun.</p>
      <a id="auth-modal-link" href="/admin"
        class="block w-full bg-marka-600 hover:bg-marka-700 text-white font-semibold py-3 rounded-xl text-center gecis mb-2">
        GiriÅŸ Yap / KayÄ±t Ol
      </a>
      <p class="text-center text-xs text-slate-400">30 gÃ¼n iade garantisi Â· GÃ¼venli Ã¶deme</p>
    </div>
  </div>

  <footer class="border-t border-slate-200 py-8 text-center text-sm text-slate-400">
    QR MenÃ¼ SaaS â€” RestoranÄ±nÄ±z iÃ§in dijital menÃ¼ Ã§Ã¶zÃ¼mÃ¼
  </footer>

  <script>
    var GS = { seciliTemaId: '', seciliTemaSlug: '', girisYapildi: <%- kullanici ? 'true' : 'false' %> };

    // Arama
    document.getElementById('arama').addEventListener('input', function() {
      var aranan = this.value.toLowerCase().trim();
      var kartlar = document.querySelectorAll('.tema-kart');
      var gorunen = 0;
      kartlar.forEach(function(kart) {
        var adi = kart.dataset.temaAdi || '';
        var goster = !aranan || adi.includes(aranan);
        kart.style.display = goster ? '' : 'none';
        if (goster) gorunen++;
      });
      document.getElementById('tema-sayisi').textContent = '(' + gorunen + ')';
      document.getElementById('bos-sonuc').classList.toggle('hidden', gorunen > 0);
    });

    function satinAlBaslat(temaId, temaSlug) {
      GS.seciliTemaId = temaId;
      GS.seciliTemaSlug = temaSlug;
      if (!GS.girisYapildi) {
        var link = document.getElementById('auth-modal-link');
        if (link) link.href = '/admin?sonra=/odeme/simule?temaId=' + temaId;
        document.getElementById('auth-modal').classList.remove('hidden');
        return;
      }
      window.location.href = '/odeme/simule?temaId=' + temaId;
    }
  </script>
</body>
</html>
